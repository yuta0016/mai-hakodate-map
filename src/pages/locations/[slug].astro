---
import locations from "../../data/locations.json";
const { slug } = Astro.params;
const location = locations.find((l) => l.slug === slug);
if (!location) throw new Error(`Location not found: ${slug}`);
---

<html lang="ja">
  <body class="bg-gray-100 p-6">
    <a href="/" class="text-blue-500 mb-4 inline-block">← 一覧に戻る</a>

    <div class="bg-white rounded-2xl shadow p-6 max-w-2xl mx-auto">
      <img src={location.image} class="rounded-xl mb-4 w-full h-64 object-cover" />
      <h1 class="text-2xl font-bold mb-2">{location.name}</h1>
      <p class="text-gray-700 mb-4">{location.description}</p>

      <p><strong>住所:</strong> {location.address}</p>
      <p><strong>営業時間:</strong> {location.hours}</p>

      <a href={location.mapUrl} target="_blank" class="text-blue-600 mt-3 inline-block">
        Googleマップで開く
      </a>

      <!-- Google Maps Embed -->
      <div class="mt-6">
        <h2 class="text-lg font-semibold mb-2">Googleマップ</h2>
        <div class="w-full h-64 sm:h-80 rounded-xl overflow-hidden shadow">
          <iframe
            src={location.mapEmbedUrl}
            class="w-full h-full border-0"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
          ></iframe>
        </div>
      </div>
    </div>
  </body>
</html>
